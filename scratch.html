
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<html>
<head>
	 <link rel = "stylesheet"
	    type = "text/css"
	    href = "Style.css" />
	<!-- Pull in Jquery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<!-- Pull in Jquery-csv -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>

	
<!-- 	<script type="text/javascript">
	    $(document).ready(function() {
	        $.ajax({
	                type: "GET",
                    url: "https://github.com/TheHuessy/Website_Test/blob/master/dates.csv",
                    dataType: "text",
                    success: function(data) {processData(data);}
                 });
	    });

function processData(allText) {
    var allTextLines = allText.split(/\r\n|\n/);
    var headers = allTextLines[0].split(',');
    var lines = [];

    for (var i=1; i<allTextLines.length; i++) {
        var data = allTextLines[i].split(',');
        if (data.length == headers.length) {

            var tarr = [];
            for (var j=0; j<headers.length; j++) {
                tarr.push(headers[j]+":"+data[j]);
            }
            lines.push(tarr);
        }
    }
    alert(lines);
}
</script>
 -->
	<title>James Huessy is very important and should be given all the spots</title>
	</head>

	<body> <!-- This is where we would be putting in a lot of things, hopefully a js script, but then maybe also some other things. -->
		
		<!-- <h1>JAVASCRIPT ELEMENTS</h1> -->
		<div class="Top_Bar">
			<h2>DATES</h2>
			<ul class="NavBar">		
				<a href="#Home">Home</a>
	  			<a class="active" href="#Dates">Dates</a>
	  			<a href="#Tapes">Tapes</a>
	  			<a href="#about">About</a>
	  		</ul>
		</div>
		<!-- Ideas for how to generate this:
			- Ideally you could have a script that generates each event as a div with all the elements inside it
			- Could probably just modify the HTML table script to pull data from specific columns
				- Will need to ensure that the data structure never changes...
			Proposed structure:
				-First, a containing div that will be the shows section: <div id="Shows">
				-<div class=[specific class name for CSS to easily format (maybe, maybe not, maybe you have no idea how this works)]>
					It looks like with CSS you can specify what each element looks like within each div
						This is good because you can decide on the location, size and color of each line and apply that simply
							Huzzah for research!
				-[various hX elements]
					- Show date [h3?, class=show_date]
						Play around and see what looks better: show title bigger and first or show date followed by show name
							If you're doubling+ up, then it might be good to have bigger date followed by the show names data
							It looks like what I might have to do is redo the data piece to output a json file organized by date
								Can do something like an element tree in js so that for each date we have a few entries for shows
									Otherwise you have to worry about seeing date/showname samedate/showname
									This can wait until you understand and impletment the mechanics of it first
					- Show Name [h3 or h4, class=show_name]
						- Ticket linked to title?
							Pulling that may be tough via google calendar API because you'd have to hunt for URLs somehow in the description
								Not too wild about regex in js
									Turns out there are Regex functions/modules in js, not too hard it would seem
					- Show Venue [one h level smaller than show name, class=show_venue]
						- Venue Address smaller and parsed together
						- Would love to do a google link
					-
		 -->
		 <a class="Title_Thing" href="">text</a>
		 <div id="Shows"></div>
<script type="text/javascript">

			//this was modified from this: https://www.jqueryscript.net/table/jQuery-Plugin-To-Generate-A-Table-From-A-CSV-File-CSV-Parser.html
			$.get('https://raw.githubusercontent.com/TheHuessy/Website_Test/master/dates.csv', function(data) {
			// start the table
			var html = '';
	
			// split into lines
			var rows = data.split("\n");
			
			//, idx, array){
   			//if (idx === array.length - 1)

			// parse lines
			rows.forEach(function getvalues(ourrow) { 				
				
				

				// split line into columns
				if (ourrow == rows[0]){
					return;
					}
				if (ourrow == rows[0]){
					return;
					}
				else {

					// Show_Name = [0]
					// Show_Date = [1]
					// Show_Day = [2]
                    // Show_Month = [3]
                    // Show_Year = [4]
					// Show_Start_Time = [5]
					// Show_Venue_Name = [6]
					// Show_Street_Address = [7]
					// Show_City = [8]
					// Show_State = [9]
					// Show_Zip = [10]



					//Create split row variable
					var columns = ourrow.split(",");
	 				
	 				//catch undefined last row which seems to be an issue with this parser
	 				//it returns a final row after the last row, so we just skip it if it sees it
					if (columns[1] == null){
					return;
				}

					html += '<div class="Show_Box">';
	 				//Get show date, show name, and time

	 				var date_full = columns[3] + ' ' + columns[2]

	 				//Evaluate if the date has already been added
	 				//If it hasn't, create the ShowDate line, otherwise just create the show info block and keep going
	 				if(html.indexOf(date_full) <= 0){
	 					html += '<h2 class="show_date">' + columns[3] + ' ' + columns[2] + '</h2><hr width="75%"> ';

	 					
	 				}				
					
					//Get show name and time if available, else just print the show name
					if (columns[2] != "??"){
						html += '<h3 class="show_name_time">' + columns[0] + ' | ' + columns[5] + '</h3>';
					} else{
						html += '<h3 class="show_name_time">' + columns[0] + '</h3>';
					}

					//Get and combine show venue name, if not present/=TBA, then just pass "TBA"
					if (columns[6] == "TBA"){

						html += '<h5 class="show_add">' + columns[6] + '</h5>';

					} else {

						html += '<h5 class="show_add">' + columns[6] + '<br>' + columns[7] + '<br>' + columns[8] + ', ' + columns[9] + '</h5>';
					
					}
				}
				// close div
				html += "</div>";
				})

				// close div
				html += "</div><br>";

			// insert into div
			$('#Shows').append(html);
				});
		</script>









		<!-- <h4>An H4 Bit of text</h4>
		<h5>An H5 Bit of text</h5>
		<h6>An H6 Bit of text</h6>


		<h2>==========================================================</h2>
		<br>
		<h2>Calendar Read</h2>

		<div id="container"></div>
		<script type="text/javascript">

			//this was modified from this: https://www.jqueryscript.net/table/jQuery-Plugin-To-Generate-A-Table-From-A-CSV-File-CSV-Parser.html
			$.get('https://raw.githubusercontent.com/TheHuessy/Website_Test/master/dates.csv', function(data) {
			// start the table
			var html = '<table>';
	
			// split into lines
			var rows = data.split("\n");
			

			// parse lines
			rows.forEach(function getvalues(ourrow) {
 
				// start a table row
				html += "<tr>";

				// split line into columns
				if (ourrow == rows[0]){
					var columns = ourrow.split(",");
	 
					html += "<td><b>" + columns[0] + "</b></td>";
					html += "<td><b>" + columns[1] + "</b></td>";
					html += "<td><b>" + columns[2] + "</b></td>";
					html += "<td><b>" + columns[3] + "</b></td>";
					html += "<td><b>" + columns[4] + "</b></td>";
					html += "<td><b>" + columns[5] + "</b></td>";
					html += "<td><b>" + columns[6] + "</b></td>";

					// close row
					html += "</tr>";}
				else{
					var columns = ourrow.split(",");
	 
					html += "<td>" + columns[0] + "</td>";
					html += "<td>" + columns[1] + "</td>";
					html += "<td>" + columns[2] + "</td>";
					html += "<td>" + columns[3] + "</td>";
					html += "<td>" + columns[4] + "</td>";
					html += "<td>" + columns[5] + "</td>";
					html += "<td>" + columns[6] + "</td>";

					// close row
					html += "</tr>";}
				})

			// close table
			html += "</table>";

			

			// insert into div
			$('#container').append(html);
				});

			// var data;
			// $.ajax({
	  // 			type: "GET",  
	  // 			url: "js-tutorials.com_sample_file.csv",
	  // 			dataType: "text",       
	  // 			success: function(response)  
	  // 			{
			// 		data = $.csv.toArrays(response);
			// 		generateHtmlTable(data);
	  // 			}   
			// 	});






		</script>

		
		<script type="text/javascript"> 
			
				document.write("Javascript document.write() function!");
			
		</script>
				//-->
		<!-- It looks like there is little difference between
		.write and .writeln in this example. You will need to 
		ensure that any asthetic stuff is handled by the 
		HTML/CSS as opposed to assuming multiple
		document.write() calls will provide the correct spacing
		//-->
		<br>
		<br>

		<!-- Anything bfore this line will load before the script
			It brings up a box, but in the background you can see
			everything loaded before this. Maskes sense, pretty
			striaght forward load order. //-->
		<!-- <script language="Javascript" src="scratch.js"></script> -->

	</body>
	</html>

